<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>DemoApp</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>
<body>
  <app-root></app-root>
  <!-- <script>

    function outer() {

      let t = 2;

      setTimeout(function increment() {
        t = 4;
      }, 2000);

      return function inner() {
        const msg = "value: " + t;
        console.log(msg);
      };
    }

    const innerFn = outer();

    innerFn();

    setTimeout(function displayAgain() {
      innerFn();
    }, 4000);

  </script> -->
  <!-- <script>

    setTimeout(() => {
      console.log("snow");
    }, 0);

    console.log("rain");

  </script> -->
  <script>
    // setTimeout(() => {
    //   console.log('a');
    // }, delay());

    // setTimeout(() => {
    //   console.log('b');
    // }, delay());

    // setTimeout(() => {
    //   console.log('c');
    // }, delay());

    // const delay = () => Math.floor(Math.random() * 1000) + 500;

    // setTimeout(() => {
    //   console.log('a');
    //   setTimeout(() => {
    //     console.log('b');
    //     setTimeout(() => {
    //       console.log('c');
    //     }, delay());
    //   }, delay());
    // }, delay());

    // function allDone() {
    //   console.log('all done');
    // }

    // let counter = 0;

    // counter++;
    // setTimeout(() => {
    //   console.log('a');
    //   counter--;
    //   if (counter === 0) {
    //     allDone();
    //   }
    // }, delay());

    // counter++;
    // setTimeout(() => {
    //   console.log('b');
    //   counter--;
    //   if (counter === 0) {
    //     allDone();
    //   }
    // }, delay());

    // counter++;
    // setTimeout(() => {
    //   console.log('c');
    //   counter--;
    //   if (counter === 0) {
    //     allDone();
    //   }
    // }, delay());

    // class Promise {

    //   constructor(fn) {

    //     this._resolveFns = [];
    //     this._rejectFns = [];

    //     const resolveFn = (result) => {
    //       this._resolveFns.forEach(fn => fn(result));
    //     };

    //     const rejectFn = (result) => {
    //       this._rejectFns.forEach(fn => fn(result));
    //     }

    //     fn(resolveFn, rejectFn);

    //   }

    //   then(fn) {
    //     this._resolveFns.push(fn);
    //   }

    //   catch(fn) {
    //     this._rejectFns.push(fn);
    //   }
    // }


    // console.log("create promise");
    // const p = new Promise((resolve, reject) => {

    //   console.log("call function passed to promise constructor");

    //   console.log("call set timeout");
    //   setTimeout(() => {
    //     console.log("resolved")
    //     resolve("some result");
    //   }, 2000);

    // });

    // console.log("register then callback");
    // p.then(result => {
    //   console.log("output result");
    //   console.log(result);
    // });

    // console.log("waiting");

    // const taskA = () => new Promise(resolve => setTimeout(() => resolve('a'), delay()));
    // const taskB = () => new Promise(resolve => setTimeout(() => resolve('b'), delay()));
    // const taskC = () => new Promise(resolve => setTimeout(() => resolve('c'), delay()));

    // taskA()
    //   .then(result => {
    //     console.log(result);
    //     return taskB();
    //   })
    //   .then(result => {
    //     console.log(result);
    //     return taskC();
    //   })
    //   .then(result => {
    //     console.log(result);
    //   });

    // Promise.all([taskA(), taskB(), taskC()]).then(results => {
    //   console.log(results);
    //   console.log("all done");
    // });

    // const doTaskSeries = async () => {

    //   console.log(await taskA());
    //   console.log(await taskB());
    //   console.log(await taskC());

    // };

    // doTaskSeries();



  </script>

</body>
</html>
